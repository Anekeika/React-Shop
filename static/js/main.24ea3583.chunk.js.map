{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/CartItem.jsx","components/CartList.jsx","components/Alert.jsx","components/Shop.jsx","config.js","App.js","index.js"],"names":["Header","className","href","id","Footer","Date","getFullYear","Preloader","GoodsItem","props","mainId","displayName","finalPrice","price","displayAssets","granted","addToCart","Function","prototype","src","background","alt","description","onClick","GoodsList","goods","length","map","item","Cart","quantity","handleCartShow","CartItem","removeFromCart","decQuantityInCart","incQuantityInCart","CardList","order","totalPrice","reduce","sum","el","Alert","closeAlert","useEffect","timeId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isCartShow","setCartShow","alerName","setAlertName","fetch","headers","process","then","response","json","data","shop","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filter","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.24ea3583.chunk.js","sourcesContent":["function Header() {\r\n    return <nav className=\"purple darken-4\">\r\n        <div className=\"nav-wrapper\">\r\n            <a href=\"!#\" className=\"brand-logo\">React Shop</a>\r\n            <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n                <li><a href=\"!#\">Repo</a></li>\r\n            </ul>\r\n        </div>\r\n    </nav>\r\n}\r\n\r\nexport {Header}","function Footer() {\r\n    return <footer className=\"page-footer purple darken-2\">\r\n        <div className=\"footer-copyright\">\r\n            <div className=\"container\">\r\n                © {new Date().getFullYear()} Copyright Text\r\n                <a className=\"grey-text text-lighten-4 right\" href=\"#!\">Repo</a>\r\n            </div>\r\n        </div>\r\n    </footer>\r\n}\r\n\r\nexport {Footer}","function Preloader() {\r\n    return (\r\n        <div className='progress'>\r\n            <div className='indeterminate'></div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport {Preloader}","function GoodsItem(props) {\r\n    const {mainId, displayName, price: {finalPrice}, displayAssets, granted, addToCart = Function.prototype } = props\r\n    const id = mainId\r\n    return <div className='card' id={id}>\r\n        <div className='card-image'>\r\n            <img src={displayAssets[0].background} alt={displayName}/>\r\n            <span className='card-title '>{displayName}</span>\r\n        </div>\r\n        <div className='card-content'>\r\n            <p>\r\n                {\r\n                    granted[0].description\r\n                }\r\n            </p>\r\n        </div>\r\n        <div className='card-action'>\r\n            <button className='btn' onClick={() => addToCart({\r\n                id, displayName, finalPrice\r\n            })}>Купить</button>\r\n            <span className='price right'>{finalPrice} руб.</span>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport {GoodsItem}","import {GoodsItem} from \"./GoodsItem\";\r\n\r\nfunction GoodsList(props) {\r\n    const {goods = [], addToCart = Function.prototype } = props\r\n\r\n    if (!goods.length) {\r\n        return <h3>Nothing here</h3>\r\n    }\r\n\r\n    return <div className=\"goods\">\r\n        {goods.map(item => (\r\n            <GoodsItem key={item.mainId} {...item} addToCart={addToCart}/>\r\n        ))}\r\n    </div>\r\n}\r\n\r\nexport {GoodsList}","function Cart(props) {\r\n    const {quantity = 0, handleCartShow = Function.prototype} = props\r\n    return (\r\n        <div className='cart blue darken-4 white-text' onClick={handleCartShow}>\r\n            <i className=\"material-icons\">shopping_cart</i>\r\n            { quantity ? <span className='cart-quantity'>{quantity}</span> : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport {Cart}","function CartItem(props) {\r\n    const {id, displayName, finalPrice, quantity, removeFromCart = Function.prototype, decQuantityInCart = Function.prototype, incQuantityInCart = Function.prototype} = props\r\n\r\n    return (\r\n        <li className=\"collection-item\">\r\n            {displayName} ({finalPrice} руб.) x{quantity} = {finalPrice*quantity} руб.\r\n            {' '}\r\n            <i className=\"material-icons cart-delete cart-quantity\" onClick={() => decQuantityInCart(id)}>remove</i>\r\n            {' '}\r\n            <i className=\"material-icons cart-delete cart-quantity\" onClick={() => incQuantityInCart(id)}>add</i>\r\n            <span className='secondary-content' onClick={() => removeFromCart(id)}><i className=\"material-icons cart-delete\">close</i></span>\r\n\r\n        </li>\r\n    )\r\n}\r\n\r\nexport {CartItem}","import {CartItem} from \"./CartItem\";\r\n\r\nfunction CardList(props) {\r\n    const {\r\n        order = [],\r\n        handleCartShow = Function.prototype,\r\n        removeFromCart = Function.prototype,\r\n        incQuantityInCart,\r\n        decQuantityInCart\r\n    } = props\r\n\r\n\r\n    const totalPrice = order.reduce((sum, el) => {\r\n        return sum +el.finalPrice * el.quantity\r\n    }, 0)\r\n\r\n    return <ul className=\"collection card-list\">\r\n        <li className=\"collection-item active\">Корзина</li>\r\n        {\r\n            order.length ? order.map(item =>(\r\n                <CartItem key={item.id}\r\n                          removeFromCart={removeFromCart}\r\n                          incQuantityInCart={incQuantityInCart}\r\n                          decQuantityInCart={decQuantityInCart}\r\n                          {...item} />\r\n            )) : <li className=\"collection-item\">Корзина пуста</li>\r\n        }\r\n        <li className=\"collection-item active\">Общая стоимость: {totalPrice} руб. <button className='secondary-content button-buy'>Оплатить</button></li>\r\n        <i className='material-icons cart-close' onClick={handleCartShow}>close</i>\r\n    </ul>\r\n\r\n}\r\n\r\nexport {CardList}","import { useEffect } from 'react'\r\n\r\nfunction Alert(props) {\r\n    const {\r\n        displayName = '',\r\n        closeAlert = Function.prototype\r\n    } = props\r\n\r\n    useEffect(()=>{\r\n        const timeId = setTimeout(closeAlert, 3000)\r\n\r\n        return () => {\r\n            clearTimeout(timeId)\r\n        }\r\n// eslint-disable-next-line\r\n    },[displayName])\r\n\r\n    return <div id='toast-container'>\r\n        <div className=\"toast\">{displayName} добавлен в корзину</div>\r\n\r\n    </div>\r\n\r\n}\r\n\r\nexport {Alert}","import {useState, useEffect} from 'react'\r\nimport {API_KEY, API_URL} from \"../config\";\r\n\r\nimport {Preloader} from \"./Preloader\";\r\nimport {GoodsList} from \"./GoodsList\";\r\nimport {Cart} from \"./Cart\";\r\nimport {CardList} from \"./CartList\";\r\nimport {Alert} from \"./Alert\";\r\n\r\nfunction Shop() {\r\n    const [goods, setGoods] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n    const [order, setOrder] = useState([])\r\n    const [isCartShow, setCartShow] = useState(false)\r\n    const [alerName , setAlertName] = useState('')\r\n\r\n\r\n    const addToCart = (item) => {\r\n        const itemIndex = order.findIndex(\r\n            (orderItem) => orderItem.id === item.id\r\n        )\r\n\r\n        if (itemIndex < 0) {\r\n            const newItem = {\r\n                ...item,\r\n                quantity: 1,\r\n            }\r\n            setOrder([...order, newItem])\r\n        } else {\r\n            const newOrder = order.map((orderItem, index) => {\r\n                if (index === itemIndex) {\r\n                   return {\r\n                       ...orderItem,\r\n                       quantity: orderItem.quantity + 1\r\n                   }\r\n                }else {\r\n                    return orderItem\r\n                }\r\n            })\r\n            setOrder(newOrder)\r\n        }\r\n        setAlertName(item.displayName)\r\n    }\r\n\r\n    const removeFromCart =(itemId) => {\r\n        const newOrder = order.filter(el => el.id !== itemId)\r\n        setOrder(newOrder)\r\n    }\r\n\r\n    const incQuantityInCart =(itemId) =>{\r\n        const newOrder = order.map(el =>{\r\n            if (el.id === itemId) {\r\n                const newQuantity = el.quantity + 1\r\n                return {\r\n                    ...el,\r\n                    quantity: newQuantity\r\n                }\r\n            } else {\r\n                return el\r\n            }\r\n        })\r\n        setOrder(newOrder)\r\n    }\r\n\r\n    const decQuantityInCart =(itemId) =>{\r\n        const newOrder = order.map(el =>{\r\n            if (el.id === itemId) {\r\n                const newQuantity = el.quantity - 1\r\n                return {\r\n                    ...el,\r\n                    quantity: newQuantity >= 0 ? newQuantity : 0\r\n                }\r\n            } else {\r\n                return el\r\n            }\r\n        })\r\n        setOrder(newOrder)\r\n    }\r\n\r\n    const handleCartShow = () =>{\r\n        setCartShow(!isCartShow)\r\n    }\r\n\r\n    const closeAlert = () => {\r\n        setAlertName('')\r\n    }\r\n\r\n    useEffect(function getGoods() {\r\n        fetch(API_URL, {\r\n            headers: {\r\n                'Authorization': API_KEY\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                data.shop && setGoods(data.shop)\r\n                setLoading(false)\r\n            })\r\n    }, [])\r\n\r\n    return <main className='container content'>\r\n        <Cart quantity={order.length} handleCartShow={handleCartShow}/>\r\n        {loading ? (<Preloader/>) : (<GoodsList goods={goods} addToCart={addToCart}/>)}\r\n        {\r\n            isCartShow && (\r\n            <CardList\r\n                order ={order}\r\n                handleCartShow={handleCartShow}\r\n                removeFromCart={removeFromCart}\r\n                incQuantityInCart={incQuantityInCart}\r\n                decQuantityInCart={decQuantityInCart}\r\n            />\r\n            )\r\n        }\r\n        {alerName && <Alert displayName={alerName} closeAlert={closeAlert}/>}\r\n    </main>\r\n}\r\n\r\nexport {Shop}","const API_KEY = process.env.REACT_APP_API_KEY\r\nconst API_URL = \"https://fortniteapi.io/v2/shop?lang=ru\"\r\n\r\nexport {\r\n    API_KEY,\r\n    API_URL\r\n}","import {Header} from './components/Header'\nimport {Footer} from './components/Footer'\nimport {Shop} from './components/Shop'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <Shop />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}